using UnityEngine;

public class QuickCircle : MonoBehaviour
{
	//////////////////////////////////////////////////////////////
	//////////////////////// PARAMETERS //////////////////////////
	//////////////////////////////////////////////////////////////
	public float radious;
	public float speed;

	//////////////////////////////////////////////////////////////
	////////////////////// CONTROL VARIABLES /////////////////////
	//////////////////////////////////////////////////////////////

	private bool circleing;
	private float currentPi;
	private Vector3 offset;


	////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////// MONO BEHAVIOR /////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////////////

	void Update ()
	{
		if(circleing)
		{
			currentPi += Time.deltaTime * speed * Mathf.PI;
			if (currentPi >= Mathf.PI * 2)
			{
				circleing = false;
				transform.position = offset;
				return;
			}
			transform.position = new Vector3(Mathf.Sin(currentPi) * radious, Mathf.Cos(currentPi) * radious + offset.y - radious, offset.z);
		}
	}

	public void DoCircle()
	{
		circleing = true;
		offset = transform.localPosition;// + new Vector3(radious, 0.0f, 0.0f);
		currentPi = 0;
	}


}
