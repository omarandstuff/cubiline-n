using UnityEngine;

public class ActionContentController : MonoBehaviour
{
	//////////////////////////////////////////////////////////////
	///////////////////////// COMPONENTS /////////////////////////
	//////////////////////////////////////////////////////////////
	public MenuController parentMenu;
	public GameObject smallContentPrefab;
	public GameObject bigContentPrefab;

	//////////////////////////////////////////////////////////////
	//////////////////////// PARAMETERS //////////////////////////
	//////////////////////////////////////////////////////////////

	public enum CONTENT_TYPE { TO_SCENE, SMALL_CONTENT, BIG_CONTENT};
	public CONTENT_TYPE contentType;
	public string SceneName;

	//////////////////////////////////////////////////////////////
	////////////////////// CONTROL VARIABLES /////////////////////
	//////////////////////////////////////////////////////////////

	private GameObject smallContent;
	private GameObject bigContent;

	////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////// MONO BEHAVIOR /////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////////////

	void Awake()
	{
		smallContent = Instantiate(smallContentPrefab) as GameObject;
		smallContent.transform.SetParent(transform);
		smallContent.transform.localPosition = Vector3.zero;
	}

	public void Enter()
	{
		smallContent.GetComponent<SmallActionController>().Enter();
	}

	public void Leave()
	{
		smallContent.GetComponent<SmallActionController>().Leave();
	}

	public void Select()
	{
		if(contentType == CONTENT_TYPE.BIG_CONTENT)
		{
			bigContent = Instantiate(bigContentPrefab);
			smallContent.GetComponent<SmallActionController>().Select();
			Destroy(smallContent, 1.0f);
		}
	}

	public void Unselect()
	{
		smallContent.GetComponent<SmallActionController>().Unselect();
	}
}
