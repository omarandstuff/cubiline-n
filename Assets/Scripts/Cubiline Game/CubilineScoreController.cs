using UnityEngine;
using System.Collections;

public class CubilineScoreController : MonoBehaviour
{
	//////////////////////////////////////////////////////////////
	///////////////////////// COMPONENTS /////////////////////////
	//////////////////////////////////////////////////////////////
	public TextMesh scoreText;

	//////////////////////////////////////////////////////////////
	//////////////////////// PARAMETERS //////////////////////////
	//////////////////////////////////////////////////////////////

	public float scoreSmoothTime = 0.1f;
	public int totalScore;

	//////////////////////////////////////////////////////////////
	////////////////////// CONTROL VARIABLES /////////////////////
	//////////////////////////////////////////////////////////////

	private float targetScore;
	private float currentScore;
	private float velocity = 0;
	

	////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////// MONO BEHAVIOR /////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////////////

	void FixedUpdate()
	{
		currentScore = Mathf.SmoothDamp(currentScore, targetScore, ref velocity, scoreSmoothTime);
		scoreText.text = ((int)currentScore).ToString();
	}

	////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////// SCORE /////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////////////

	public void AddScore(int score)
	{
		totalScore += score;
		targetScore = totalScore + 0.5f;
	}

	public void Reset()
	{
		totalScore = 0;
		currentScore = 0;
		velocity = 0;
		targetScore = 0;
	}
}
